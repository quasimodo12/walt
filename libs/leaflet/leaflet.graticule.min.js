/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/leaflet-graticule@0.0.1/Leaflet.Graticule.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
L.LatLngGraticule=L.Layer.extend({options:{showLabel:!0,opacity:1,weight:.8,color:"#aaa",font:"12px Verdana",lngLineCurved:0,latLineCurved:0,zoomInterval:[{start:2,end:2,interval:40},{start:3,end:3,interval:20},{start:4,end:4,interval:10},{start:5,end:7,interval:5},{start:8,end:20,interval:1}]},initialize:function(t){L.setOptions(this,t);this.options.font.split(" ").length<2&&(this.options.font+=" Verdana"),this.options.fontColor||(this.options.fontColor=this.options.color),this.options.zoomInterval&&(this.options.zoomInterval.latitude&&(this.options.latInterval=this.options.zoomInterval.latitude,this.options.zoomInterval.longitude||(this.options.lngInterval=this.options.zoomInterval.latitude)),this.options.zoomInterval.longitude&&(this.options.lngInterval=this.options.zoomInterval.longitude,this.options.zoomInterval.latitude||(this.options.latInterval=this.options.zoomInterval.longitude)),this.options.latInterval||(this.options.latInterval=this.options.zoomInterval),this.options.lngInterval||(this.options.lngInterval=this.options.zoomInterval))},onAdd:function(t){this._map=t,this._container||this._initCanvas(),t._panes.overlayPane.appendChild(this._container),t.on("viewreset",this._reset,this),t.on("move",this._reset,this),t.on("moveend",this._reset,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._container),t.off("viewreset",this._reset,this),t.off("move",this._reset,this),t.off("moveend",this._reset,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._canvas&&this._map._panes.overlayPane.appendChild(this._canvas),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._canvas&&t.insertBefore(this._canvas,t.firstChild),this},getAttribution:function(){return this.options.attribution},_initCanvas:function(){this._container=L.DomUtil.create("div","leaflet-image-layer"),this._canvas=L.DomUtil.create("canvas",""),this._map.options.zoomAnimation&&L.Browser.any3d?L.DomUtil.addClass(this._canvas,"leaflet-zoom-animated"):L.DomUtil.addClass(this._canvas,"leaflet-zoom-hide"),this._updateOpacity(),this._container.appendChild(this._canvas),L.extend(this._canvas,{onselectstart:L.Util.falseFn,onmousemove:L.Util.falseFn,onload:L.bind(this._onCanvasLoad,this)})},_reset:function(){var t=this._container,n=this._canvas,i=this._map.getSize(),o=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(t,o),t.style.width=i.x+"px",t.style.height=i.y+"px",n.width=i.x,n.height=i.y,n.style.width=i.x+"px",n.style.height=i.y+"px",this.__calcInterval(),this.__draw(!0)},_onCanvasLoad:function(){this.fire("load")},_updateOpacity:function(){L.DomUtil.setOpacity(this._canvas,this.options.opacity)},__format_lat:function(t){return this.options.latFormatTickLabel?this.options.latFormatTickLabel(t):t<0?-1*t+"S":t>0?t+"N":""+t},__format_lng:function(t){return this.options.lngFormatTickLabel?this.options.lngFormatTickLabel(t):t>180?360-t+"W":t>0&&t<180?t+"E":t<0&&t>-180?-1*t+"W":-180==t?""+-1*t:t<-180?360+t+"W":""+t},__calcInterval:function(){var t=this._map.getZoom();if(this._currZoom!=t&&(this._currLngInterval=0,this._currLatInterval=0,this._currZoom=t),!this._currLngInterval)try{for(var n in this.options.lngInterval){if((i=this.options.lngInterval[n]).start<=t&&i.end&&i.end>=t){this._currLngInterval=i.interval;break}}}catch(t){this._currLngInterval=0}if(!this._currLatInterval)try{for(var n in this.options.latInterval){var i;if((i=this.options.latInterval[n]).start<=t&&i.end&&i.end>=t){this._currLatInterval=i.interval;break}}}catch(t){this._currLatInterval=0}},__draw:function(t){var n=this._canvas,i=this._map,o=this.options.lngLineCurved,a=this.options.latLineCurved;if(L.Browser.canvas&&i){this._currLngInterval&&this._currLatInterval||this.__calcInterval();var e=this._currLatInterval,s=this._currLngInterval,r=n.getContext("2d");r.clearRect(0,0,n.width,n.height),r.lineWidth=this.options.weight,r.strokeStyle=this.options.color,r.fillStyle=this.options.fontColor,this.options.font&&(r.font=this.options.font);var l=r.measureText("0").width,h=12;try{var v=r.font.split(" ")[0];h=function(t){t.length>2&&"p"==t.charAt(t.length-2)&&(t=t.substr(0,t.length-2));try{return parseInt(t,10)}catch(t){}return 0}(v)}catch(k){}var c=n.width,p=n.height,g=i.containerPointToLatLng(L.point(0,0)),_=i.containerPointToLatLng(L.point(c,0)),f=i.containerPointToLatLng(L.point(c,p)).lat,u=g.lat,d=g.lng,m=_.lng,y=(u-f)/(.2*p);y<1&&(y=1),f=f<-90?-90:parseInt(f-y,10),u=u>90?90:parseInt(u+y,10);var x=(m-d)/(.2*c);x<1&&(x=1),d>0&&m<0&&(m+=360),m=parseInt(m+x,10),d=parseInt(d-x,10);var T,I,P,C=.5;function b(n,e){if(T=i.latLngToContainerPoint(L.latLng(e,d)),I=n.__format_lat(e),l=r.measureText(I).width,a){"number"==typeof a&&(C=a);var s=d,v=m;if(T.x>0)s=(s=i.containerPointToLatLng(L.point(0,T.y))).lng-x,T.x=0;(u=i.latLngToContainerPoint(L.latLng(e,v))).x<c&&(v=(v=i.containerPointToLatLng(L.point(c,u.y))).lng+x,s>0&&v<0&&(v+=360)),r.beginPath(),r.moveTo(T.x,T.y);for(var p=null,g=s;g<=v;g+=C){if(u=i.latLngToContainerPoint(L.latLng(e,g)),r.lineTo(u.x,u.y),n.options.showLabel&&t&&null!=p)if(p.x<0&&u.x>=0){var _=(u.x-0)/(u.x-p.x),f=u.y-(u.y-p.y)*_;r.fillText(I,0,f+h/2)}else if(p.x<=c-l&&u.x>c-l){_=(u.x-c)/(u.x-p.x),f=u.y-(u.y-p.y)*_;r.fillText(I,c-l,f+h/2-2)}p={x:u.x,y:u.y,lon:g,lat:w}}r.stroke()}else{v=m;var u=i.latLngToContainerPoint(L.latLng(e,v));if(o)v=(v=i.containerPointToLatLng(L.point(0,u.y))).lng,u=i.latLngToContainerPoint(L.latLng(e,v)),s=(s=i.containerPointToLatLng(L.point(c,u.y))).lng,T=i.latLngToContainerPoint(L.latLng(e,s));if(r.beginPath(),r.moveTo(T.x+1,T.y),r.lineTo(u.x-1,u.y),r.stroke(),n.options.showLabel&&t){var y=T.y+h/2-2;r.fillText(I,0,y),r.fillText(I,c-l,y)}}}if(e>0){for(var w=e;w<=u;w+=e)w>=f&&b(this,w);for(w=0;w>=f;w-=e)w<=u&&b(this,w)}function z(n,e){P=n.__format_lng(e),l=r.measureText(P).width;var s=i.latLngToContainerPoint(L.latLng(f,e));if(o){"number"==typeof o&&(_lat_delta=o),r.beginPath(),r.moveTo(s.x,s.y);for(var v=null,c=f;c<u;c+=_lat_delta){var g=i.latLngToContainerPoint(L.latLng(c,e));r.lineTo(g.x,g.y),n.options.showLabel&&t&&null!=v&&(v.y>8&&g.y<=8?r.fillText(P,g.x-l/2,h):v.y>=p&&g.y<p&&r.fillText(P,g.x-l/2,p-2)),v={x:g.x,y:g.y,lon:e,lat:c}}r.stroke()}else{var _=u;g=i.latLngToContainerPoint(L.latLng(_,e));if(a){(_=(_=i.containerPointToLatLng(L.point(g.x,0))).lat)>90&&(_=90),g=i.latLngToContainerPoint(L.latLng(_,e));var d=i.containerPointToLatLng(L.point(s.x,p));(d=d.lat)<-90&&(d=-90),s=i.latLngToContainerPoint(L.latLng(d,e))}r.beginPath(),r.moveTo(g.x,g.y+1),r.lineTo(s.x,s.y-1),r.stroke(),n.options.showLabel&&t&&(r.fillText(P,g.x-l/2,h+1),r.fillText(P,s.x-l/2,p-3))}}if(s>0){for(w=s;w<=m;w+=s)w>=d&&z(this,w);for(w=0;w>=d;w-=s)w<=m&&z(this,w)}}}}),L.latlngGraticule=function(t){return new L.LatLngGraticule(t)};
//# sourceMappingURL=/sm/c98c99987d40af5a938dcbc67d27da134ad4bd115b033e110acd5b18ea5742ad.map